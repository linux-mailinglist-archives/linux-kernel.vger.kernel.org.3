Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id AD4E756326A
	for <lists+linux-kernel@lfdr.de>; Fri,  1 Jul 2022 13:22:46 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S233989AbiGALWd (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Fri, 1 Jul 2022 07:22:33 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:52410 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S235661AbiGALW3 (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Fri, 1 Jul 2022 07:22:29 -0400
Received: from jari.cn (unknown [218.92.28.120])
        by lindbergh.monkeyblade.net (Postfix) with ESMTP id C6A9C735A3;
        Fri,  1 Jul 2022 04:22:27 -0700 (PDT)
Received: by ajax-webmail-localhost.localdomain (Coremail) ; Fri, 1 Jul 2022
 19:16:59 +0800 (GMT+08:00)
X-Originating-IP: [182.148.13.66]
Date:   Fri, 1 Jul 2022 19:16:59 +0800 (GMT+08:00)
X-CM-HeaderCharset: UTF-8
From:   "XueBing Chen" <chenxuebing@jari.cn>
To:     jejb@linux.ibm.com, martin.petersen@oracle.com
Cc:     anil.gurumurthy@qlogic.com, sudarsana.kalluru@qlogic.com,
        linux-scsi@vger.kernel.org, linux-kernel@vger.kernel.org
Subject: [PATCH] scsi: bfa: use strscpy to replace strlcpy
X-Priority: 3
X-Mailer: Coremail Webmail Server Version XT6.0.1 build 20210329(c53f3fee)
 Copyright (c) 2002-2022 www.mailtech.cn
 mispb-4e503810-ca60-4ec8-a188-7102c18937cf-zhkzyfz.cn
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset=UTF-8
MIME-Version: 1.0
Message-ID: <2975fca0.d18.181b97a760e.Coremail.chenxuebing@jari.cn>
X-Coremail-Locale: zh_CN
X-CM-TRANSID: AQAAfwA3QnCr175iyfdFAA--.867W
X-CM-SenderInfo: hfkh05pxhex0nj6mt2flof0/1tbiAQAICmFEYxsvOAANsE
X-Coremail-Antispam: 1Ur529EdanIXcx71UUUUU7IcSsGvfJ3iIAIbVAYjsxI4VWxJw
        CS07vEb4IE77IF4wCS07vE1I0E4x80FVAKz4kxMIAIbVAFxVCaYxvI4VCIwcAKzIAtYxBI
        daVFxhVjvjDU=
X-Spam-Status: No, score=2.2 required=5.0 tests=BAYES_00,RCVD_IN_PBL,RDNS_NONE,
        T_SCC_BODY_TEXT_LINE,T_SPF_HELO_PERMERROR,T_SPF_PERMERROR,XPRIO
        autolearn=no autolearn_force=no version=3.4.6
X-Spam-Level: **
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

ClRoZSBzdHJsY3B5IHNob3VsZCBub3QgYmUgdXNlZCBiZWNhdXNlIGl0IGRvZXNuJ3QgbGltaXQg
dGhlIHNvdXJjZQpsZW5ndGguIFByZWZlcnJlZCBpcyBzdHJzY3B5LgoKU2lnbmVkLW9mZi1ieTog
WHVlQmluZyBDaGVuIDxjaGVueHVlYmluZ0BqYXJpLmNuPgotLS0KIGRyaXZlcnMvc2NzaS9iZmEv
YmZhX2Zjc19scG9ydC5jIHwgMjAgKysrKysrKysrKy0tLS0tLS0tLS0KIDEgZmlsZSBjaGFuZ2Vk
LCAxMCBpbnNlcnRpb25zKCspLCAxMCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9kcml2ZXJz
L3Njc2kvYmZhL2JmYV9mY3NfbHBvcnQuYyBiL2RyaXZlcnMvc2NzaS9iZmEvYmZhX2Zjc19scG9y
dC5jCmluZGV4IGIxMmFmY2M0YjE4OS4uMDA4YWZkODE3MDg3IDEwMDY0NAotLS0gYS9kcml2ZXJz
L3Njc2kvYmZhL2JmYV9mY3NfbHBvcnQuYworKysgYi9kcml2ZXJzL3Njc2kvYmZhL2JmYV9mY3Nf
bHBvcnQuYwpAQCAtMjY0MiwxMCArMjY0MiwxMCBAQCBiZmFfZmNzX2ZkbWlfZ2V0X2hiYWF0dHIo
c3RydWN0IGJmYV9mY3NfbHBvcnRfZmRtaV9zICpmZG1pLAogCWJmYV9pb2NfZ2V0X2FkYXB0ZXJf
ZndfdmVyKCZwb3J0LT5mY3MtPmJmYS0+aW9jLAogCQkJCQloYmFfYXR0ci0+ZndfdmVyc2lvbik7
CiAKLQlzdHJsY3B5KGhiYV9hdHRyLT5kcml2ZXJfdmVyc2lvbiwgKGNoYXIgKilkcml2ZXJfaW5m
by0+dmVyc2lvbiwKKwlzdHJzY3B5KGhiYV9hdHRyLT5kcml2ZXJfdmVyc2lvbiwgKGNoYXIgKilk
cml2ZXJfaW5mby0+dmVyc2lvbiwKIAkJc2l6ZW9mKGhiYV9hdHRyLT5kcml2ZXJfdmVyc2lvbikp
OwogCi0Jc3RybGNweShoYmFfYXR0ci0+b3NfbmFtZSwgZHJpdmVyX2luZm8tPmhvc3Rfb3NfbmFt
ZSwKKwlzdHJzY3B5KGhiYV9hdHRyLT5vc19uYW1lLCBkcml2ZXJfaW5mby0+aG9zdF9vc19uYW1l
LAogCQlzaXplb2YoaGJhX2F0dHItPm9zX25hbWUpKTsKIAogCS8qCkBAIC0yNjYzLDEzICsyNjYz
LDEzIEBAIGJmYV9mY3NfZmRtaV9nZXRfaGJhYXR0cihzdHJ1Y3QgYmZhX2Zjc19scG9ydF9mZG1p
X3MgKmZkbWksCiAJYmZhX2Zjc19mZG1pX2dldF9wb3J0YXR0cihmZG1pLCAmZmNzX3BvcnRfYXR0
cik7CiAJaGJhX2F0dHItPm1heF9jdF9weWxkID0gZmNzX3BvcnRfYXR0ci5tYXhfZnJtX3NpemU7
CiAKLQlzdHJsY3B5KGhiYV9hdHRyLT5ub2RlX3N5bV9uYW1lLnN5bW5hbWUsCisJc3Ryc2NweSho
YmFfYXR0ci0+bm9kZV9zeW1fbmFtZS5zeW1uYW1lLAogCQlwb3J0LT5wb3J0X2NmZy5ub2RlX3N5
bV9uYW1lLnN5bW5hbWUsIEJGQV9TWU1OQU1FX01BWExFTik7CiAJc3RyY3B5KGhiYV9hdHRyLT52
ZW5kb3JfaW5mbywgIlFMb2dpYyIpOwogCWhiYV9hdHRyLT5udW1fcG9ydHMgPQogCQljcHVfdG9f
YmUzMihiZmFfaW9jX2dldF9ucG9ydHMoJnBvcnQtPmZjcy0+YmZhLT5pb2MpKTsKIAloYmFfYXR0
ci0+ZmFicmljX25hbWUgPSBwb3J0LT5mYWJyaWMtPmxwcy0+cHJfbnd3bjsKLQlzdHJsY3B5KGhi
YV9hdHRyLT5iaW9zX3ZlciwgaGJhX2F0dHItPm9wdGlvbl9yb21fdmVyLCBCRkFfVkVSU0lPTl9M
RU4pOworCXN0cnNjcHkoaGJhX2F0dHItPmJpb3NfdmVyLCBoYmFfYXR0ci0+b3B0aW9uX3JvbV92
ZXIsIEJGQV9WRVJTSU9OX0xFTik7CiAKIH0KIApAQCAtMjczNiwxOSArMjczNiwxOSBAQCBiZmFf
ZmNzX2ZkbWlfZ2V0X3BvcnRhdHRyKHN0cnVjdCBiZmFfZmNzX2xwb3J0X2ZkbWlfcyAqZmRtaSwK
IAkvKgogCSAqIE9TIGRldmljZSBOYW1lCiAJICovCi0Jc3RybGNweShwb3J0X2F0dHItPm9zX2Rl
dmljZV9uYW1lLCBkcml2ZXJfaW5mby0+b3NfZGV2aWNlX25hbWUsCisJc3Ryc2NweShwb3J0X2F0
dHItPm9zX2RldmljZV9uYW1lLCBkcml2ZXJfaW5mby0+b3NfZGV2aWNlX25hbWUsCiAJCXNpemVv
Zihwb3J0X2F0dHItPm9zX2RldmljZV9uYW1lKSk7CiAKIAkvKgogCSAqIEhvc3QgbmFtZQogCSAq
LwotCXN0cmxjcHkocG9ydF9hdHRyLT5ob3N0X25hbWUsIGRyaXZlcl9pbmZvLT5ob3N0X21hY2hp
bmVfbmFtZSwKKwlzdHJzY3B5KHBvcnRfYXR0ci0+aG9zdF9uYW1lLCBkcml2ZXJfaW5mby0+aG9z
dF9tYWNoaW5lX25hbWUsCiAJCXNpemVvZihwb3J0X2F0dHItPmhvc3RfbmFtZSkpOwogCiAJcG9y
dF9hdHRyLT5ub2RlX25hbWUgPSBiZmFfZmNzX2xwb3J0X2dldF9ud3duKHBvcnQpOwogCXBvcnRf
YXR0ci0+cG9ydF9uYW1lID0gYmZhX2Zjc19scG9ydF9nZXRfcHd3bihwb3J0KTsKIAotCXN0cmxj
cHkocG9ydF9hdHRyLT5wb3J0X3N5bV9uYW1lLnN5bW5hbWUsCisJc3Ryc2NweShwb3J0X2F0dHIt
PnBvcnRfc3ltX25hbWUuc3ltbmFtZSwKIAkJYmZhX2Zjc19scG9ydF9nZXRfcHN5bV9uYW1lKHBv
cnQpLnN5bW5hbWUsIEJGQV9TWU1OQU1FX01BWExFTik7CiAJYmZhX2Zjc19scG9ydF9nZXRfYXR0
cihwb3J0LCAmbHBvcnRfYXR0cik7CiAJcG9ydF9hdHRyLT5wb3J0X3R5cGUgPSBjcHVfdG9fYmUz
MihscG9ydF9hdHRyLnBvcnRfdHlwZSk7CkBAIC0zMjI5LDcgKzMyMjksNyBAQCBiZmFfZmNzX2xw
b3J0X21zX2dtYWxfcmVzcG9uc2Uodm9pZCAqZmNzYXJnLCBzdHJ1Y3QgYmZhX2ZjeHBfcyAqZmN4
cCwKIAkJCQkJcnNwX3N0cltnbWFsX2VudHJ5LT5sZW4tMV0gPSAwOwogCiAJCQkJLyogY29weSBJ
UCBBZGRyZXNzIHRvIGZhYnJpYyAqLwotCQkJCXN0cmxjcHkoYmZhX2Zjc19scG9ydF9nZXRfZmFi
cmljX2lwYWRkcihwb3J0KSwKKwkJCQlzdHJzY3B5KGJmYV9mY3NfbHBvcnRfZ2V0X2ZhYnJpY19p
cGFkZHIocG9ydCksCiAJCQkJCWdtYWxfZW50cnktPmlwX2FkZHIsCiAJCQkJCUJGQV9GQ1NfRkFC
UklDX0lQQUREUl9TWik7CiAJCQkJYnJlYWs7CkBAIC00NjY3LDcgKzQ2NjcsNyBAQCBiZmFfZmNz
X2xwb3J0X25zX3NlbmRfcnNwbl9pZCh2b2lkICpuc19jYmFyZywgc3RydWN0IGJmYV9mY3hwX3Mg
KmZjeHBfYWxsb2NlZCkKIAkJICogdG8gdGhhdCBvZiB0aGUgYmFzZSBwb3J0LgogCQkgKi8KIAot
CQlzdHJsY3B5KHN5bWJsLAorCQlzdHJzY3B5KHN5bWJsLAogCQkJKGNoYXIgKikmKGJmYV9mY3Nf
bHBvcnRfZ2V0X3BzeW1fbmFtZQogCQkJIChiZmFfZmNzX2dldF9iYXNlX3BvcnQocG9ydC0+ZmNz
KSkpLAogCQkJc2l6ZW9mKHN5bWJsKSk7CkBAIC01MTk0LDcgKzUxOTQsNyBAQCBiZmFfZmNzX2xw
b3J0X25zX3V0aWxfc2VuZF9yc3BuX2lkKHZvaWQgKmNiYXJnLCBzdHJ1Y3QgYmZhX2ZjeHBfcyAq
ZmN4cF9hbGxvY2VkKQogCQkgKiBGb3IgVnBvcnRzLCB3ZSBhcHBlbmQgdGhlIHZwb3J0J3MgcG9y
dCBzeW1ib2xpYyBuYW1lCiAJCSAqIHRvIHRoYXQgb2YgdGhlIGJhc2UgcG9ydC4KIAkJICovCi0J
CXN0cmxjcHkoc3ltYmwsIChjaGFyICopJihiZmFfZmNzX2xwb3J0X2dldF9wc3ltX25hbWUKKwkJ
c3Ryc2NweShzeW1ibCwgKGNoYXIgKikmKGJmYV9mY3NfbHBvcnRfZ2V0X3BzeW1fbmFtZQogCQkJ
KGJmYV9mY3NfZ2V0X2Jhc2VfcG9ydChwb3J0LT5mY3MpKSksCiAJCQlzaXplb2Yoc3ltYmwpKTsK
IAotLSAKMi4yNS4xCg==
