Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id 3253D523F0E
	for <lists+linux-kernel@lfdr.de>; Wed, 11 May 2022 22:47:00 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1347882AbiEKUq6 (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Wed, 11 May 2022 16:46:58 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:44790 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S242188AbiEKUq4 (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Wed, 11 May 2022 16:46:56 -0400
Received: from jabberwock.ucw.cz (jabberwock.ucw.cz [46.255.230.98])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id A453C62A36;
        Wed, 11 May 2022 13:46:54 -0700 (PDT)
Received: by jabberwock.ucw.cz (Postfix, from userid 1017)
        id 771921C0B92; Wed, 11 May 2022 22:46:51 +0200 (CEST)
Date:   Wed, 11 May 2022 22:46:50 +0200
From:   Pavel Machek <pavel@ucw.cz>
To:     Yevgeniy Dodis <dodis@cs.nyu.edu>
Cc:     "Jason A. Donenfeld" <Jason@zx2c4.com>, tytso <tytso@mit.edu>,
        Nadia Heninger <nadiah@cs.ucsd.edu>,
        Noah Stephens-Dawidowitz <noahsd@gmail.com>,
        Stefano Tessaro <tessaro@cs.washington.edu>,
        torvalds@linux-foundation.org, "D. J. Bernstein" <djb@cr.yp.to>,
        jeanphilippe.aumasson@gmail.com, jann@thejh.net,
        keescook@chromium.org, gregkh@linuxfoundation.org,
        Peter Schwabe <peter@cryptojedi.org>,
        linux-crypto@vger.kernel.org, linux-kernel@vger.kernel.org
Subject: Re: is "premature next" a real world rng concern, or just an
 academic exercise?
Message-ID: <20220511204650.GA21867@amd>
References: <YmlMGx6+uigkGiZ0@zx2c4.com>
 <Ym3ZM1P+uYYABtRm@mit.edu>
 <Ym5sICj5iBMn2w/E@zx2c4.com>
 <CAMvzKsiA52Si=PzOJXYwGSA1WUz-1S0A8cpgRJWDzpMkfFbX+Q@mail.gmail.com>
 <CAMvzKsiMY_+8HZqeFqD3tR65a3-JB0LG=+0jBBy1zF4GanrsGA@mail.gmail.com>
MIME-Version: 1.0
Content-Type: multipart/signed; micalg=pgp-sha1;
        protocol="application/pgp-signature"; boundary="wac7ysb48OaltWcw"
Content-Disposition: inline
In-Reply-To: <CAMvzKsiMY_+8HZqeFqD3tR65a3-JB0LG=+0jBBy1zF4GanrsGA@mail.gmail.com>
User-Agent: Mutt/1.5.23 (2014-03-12)
X-Spam-Status: No, score=-1.9 required=5.0 tests=BAYES_00,SPF_HELO_NONE,
        SPF_NONE,T_SCC_BODY_TEXT_LINE autolearn=ham autolearn_force=no
        version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org


--wac7ysb48OaltWcw
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

Hi!

> >
> > Thank you for starting this fascinating discussion. I generally agree w=
ith everything Jason said. In particular, I am not
> > 100% convinced that the extra cost of the premature next defense is jus=
tified.(Although Windows and MacOS are adamant it is
> > worth it :).)
> >

Dunno, how big is cost of "premature next" defenses? I believe all you
need to do is to reseed in batches, and that does not seem costly at
runtime, and does not have high cost in kernel .text.

> > But let me give some meta points to at least convince you this is not a=
s obvious as Jason makes it sound.
> >
> > 1) Attacking RNGs in any model is really hard. Heck, everybody knew for=
 years that /dev/random is a mess
> > (and we published it formally in 2013, although this was folklore knowl=
edge),  but in all these years nobody
> > (even Nadya's group :)) managed to find a practical attack. So just bec=
ause the attack seems far-fetched, I do not think we should
> > lower our standards and do ugly stuff. Otherwise, just leave
> >/dev/random the way it was before Jason started his awesome work.

Well, practical attacks may be hard, but when they happen... that's
bad. We had weak keys generated by debian, we have various devices
that with deterministic rngs...

Best regards,
								Pavel
--=20
People of Russia, stop Putin before his war on Ukraine escalates.

--wac7ysb48OaltWcw
Content-Type: application/pgp-signature; name="signature.asc"
Content-Description: Digital signature

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iEYEARECAAYFAmJ8ILoACgkQMOfwapXb+vIJQQCfaYW/xS5k3YJRX21AdHNuKQET
4BwAn2PC9gpPRB4lt75hyfJ9zYhxRi7S
=QPXk
-----END PGP SIGNATURE-----

--wac7ysb48OaltWcw--
