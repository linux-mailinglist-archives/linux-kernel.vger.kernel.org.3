Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id 3CF5B51F5C8
	for <lists+linux-kernel@lfdr.de>; Mon,  9 May 2022 09:55:09 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S236850AbiEIHyQ (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Mon, 9 May 2022 03:54:16 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:33078 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S235987AbiEIHpU (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Mon, 9 May 2022 03:45:20 -0400
Received: from smtp-out1.suse.de (smtp-out1.suse.de [195.135.220.28])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 979083DA45;
        Mon,  9 May 2022 00:41:25 -0700 (PDT)
Received: from relay2.suse.de (relay2.suse.de [149.44.160.134])
        by smtp-out1.suse.de (Postfix) with ESMTP id 21E1621C12;
        Mon,  9 May 2022 07:25:52 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=suse.de; s=susede2_rsa;
        t=1652081152; h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
         mime-version:mime-version:content-type:content-type:
         content-transfer-encoding:content-transfer-encoding:
         in-reply-to:in-reply-to:references:references;
        bh=DkVjeit/lk71CFlURWPuyWOi+BM5c9PXTKXlXZNy4J8=;
        b=UoVW1UNUd3JJyPxi7Me6WCrriJyvw5+Ko5Cbq3XdkkFq6nmyPNWe6ixlc9kmtHWJBKAZR1
        hDoKLuxkPIDwchfQKuG5vjYcMNusB2gUaJ8hO56Pcio5KAPabEXqNOz64fWuJjSoV5Gcgp
        v2RjBBDj2ixI4n/OkHHMyHC36I64wG4=
DKIM-Signature: v=1; a=ed25519-sha256; c=relaxed/relaxed; d=suse.de;
        s=susede2_ed25519; t=1652081152;
        h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
         mime-version:mime-version:content-type:content-type:
         content-transfer-encoding:content-transfer-encoding:
         in-reply-to:in-reply-to:references:references;
        bh=DkVjeit/lk71CFlURWPuyWOi+BM5c9PXTKXlXZNy4J8=;
        b=hvLqelyDQILDmc6tEMXQb5abblgHvKPpo/77GZSrf9i7Nkfwk/YfP8c887ekyQ4YaDVFcl
        A5VyyNHI324mU5AQ==
Received: from alsa1.suse.de (alsa1.suse.de [10.160.4.42])
        by relay2.suse.de (Postfix) with ESMTP id 43DAE2C141;
        Mon,  9 May 2022 07:25:51 +0000 (UTC)
Date:   Mon, 09 May 2022 09:25:51 +0200
Message-ID: <s5hr153makg.wl-tiwai@suse.de>
From:   Takashi Iwai <tiwai@suse.de>
To:     Uwe =?UTF-8?B?S2xlaW5lLUvDtm5pZw==?= 
        <u.kleine-koenig@pengutronix.de>
Cc:     lizhe <sensor1010@163.com>, lee.jones@linaro.org,
        fthain@linux-m68k.org, akrowiak@linux.ibm.com, pasic@linux.ibm.com,
        jjherne@linux.ibm.com, freude@linux.ibm.com, hca@linux.ibm.com,
        gor@linux.ibm.com, agordeev@linux.ibm.com,
        borntraeger@linux.ibm.com, svens@linux.ibm.com, jejb@linux.ibm.com,
        martin.petersen@oracle.com, zbr@ioremap.net, perex@perex.cz,
        tiwai@suse.com, bvanassche@acm.org, dan.j.williams@intel.com,
        srinivas.kandagatla@linaro.org, wens@csie.org,
        colin.king@intel.com, hare@suse.de, linux-kernel@vger.kernel.org,
        linux-m68k@lists.linux-m68k.org, linux-s390@vger.kernel.org,
        linux-scsi@vger.kernel.org, target-devel@vger.kernel.org,
        alsa-devel@alsa-project.org
Subject: Re: [PATCH] kernel/drivers: Remove redundant driver match function
In-Reply-To: <20220506064927.7y7a422jqbse22fr@pengutronix.de>
References: <20220506045952.136290-1-sensor1010@163.com>
        <20220506064927.7y7a422jqbse22fr@pengutronix.de>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit
X-Spam-Status: No, score=-4.4 required=5.0 tests=BAYES_00,DKIM_SIGNED,
        DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,RCVD_IN_DNSWL_MED,SPF_HELO_NONE,
        SPF_PASS,T_SCC_BODY_TEXT_LINE autolearn=ham autolearn_force=no
        version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On Fri, 06 May 2022 08:49:27 +0200,
Uwe Kleine-König wrote:
> 
> Hello,
> 
> On Thu, May 05, 2022 at 09:59:52PM -0700, lizhe wrote:
> > If there is no driver match function, the driver core assumes that each
> > candidate pair (driver, device) matches, see driver_match_device().
> > 
> > Signed-off-by: lizhe <sensor1010@163.com>
> 
> Reviewed-by: Uwe Kleine-König <u.kleine-koenig.org>
> 
> Side note: While looking through this patch I was surprised to see there
> are two different busses for ac97: sound/ac97/bus.c + sound/ac97_bus.c .
> It seems the duplication exists since 2017.

Those are intentional and will be likely kept as-is.  In theory those
could be unified, but there are quite lots of quirk codes for the old
bus implementations and it'll be way too much work to rewrite for the
new bus.


Takashi
