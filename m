Return-Path: <linux-kernel-owner@vger.kernel.org>
X-Original-To: lists+linux-kernel@lfdr.de
Delivered-To: lists+linux-kernel@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id CEB134A6F42
	for <lists+linux-kernel@lfdr.de>; Wed,  2 Feb 2022 11:57:08 +0100 (CET)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S237229AbiBBK5A (ORCPT <rfc822;lists+linux-kernel@lfdr.de>);
        Wed, 2 Feb 2022 05:57:00 -0500
Received: from smtp-out2.suse.de ([195.135.220.29]:39864 "EHLO
        smtp-out2.suse.de" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S230095AbiBBK46 (ORCPT
        <rfc822;linux-kernel@vger.kernel.org>);
        Wed, 2 Feb 2022 05:56:58 -0500
Received: from relay2.suse.de (relay2.suse.de [149.44.160.134])
        by smtp-out2.suse.de (Postfix) with ESMTP id 36B741F3A8;
        Wed,  2 Feb 2022 10:56:57 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=suse.de; s=susede2_rsa;
        t=1643799417; h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
         mime-version:mime-version:content-type:content-type:
         in-reply-to:in-reply-to:references:references;
        bh=LFZWOHWY65j/ik+NoNBuTvIqjJmH18mwmj3lhNARVss=;
        b=YU7+s3FMM2uSMoBmOFiHJ6G7pf4wBPJ94vkIg1/t2Ki3ujTrssKX3PJUeGAFzEMPWZUjMh
        9NKNcBigVjCli2gKZhF9RzOECRZPoeV0tDncdzk08ZHDLHq1DDGM2QhTbDHvM6MpLN74uM
        jcBlOCZe/1re8jWjElu3cyKgJ0U1568=
DKIM-Signature: v=1; a=ed25519-sha256; c=relaxed/relaxed; d=suse.de;
        s=susede2_ed25519; t=1643799417;
        h=from:from:reply-to:date:date:message-id:message-id:to:to:cc:cc:
         mime-version:mime-version:content-type:content-type:
         in-reply-to:in-reply-to:references:references;
        bh=LFZWOHWY65j/ik+NoNBuTvIqjJmH18mwmj3lhNARVss=;
        b=krr8ZXfW4OmMNZNC2tPt2iMenwqXtTPeyv0RdHysl9jTfXR3zO6ctiBtr1uJkCKXcaA1Ku
        Tc8YVsfs6qBAENDg==
Received: from alsa1.suse.de (alsa1.suse.de [10.160.4.42])
        by relay2.suse.de (Postfix) with ESMTP id 2765AA3B89;
        Wed,  2 Feb 2022 10:56:56 +0000 (UTC)
Date:   Wed, 02 Feb 2022 11:56:56 +0100
Message-ID: <s5hh79hzgcn.wl-tiwai@suse.de>
From:   Takashi Iwai <tiwai@suse.de>
To:     Hideki Yamane <henrich@iijmio-mail.jp>
Cc:     Takashi Iwai <tiwai@suse.de>,
        Greg Kroah-Hartman <gregkh@linuxfoundation.org>,
        Luis Chamberlain <mcgrof@kernel.org>,
        "Rafael J . Wysocki" <rafael@kernel.org>,
        linux-kernel@vger.kernel.org
Subject: Re: [PATCH RFC 0/4] firmware: Add ZSTD-compressed file support
In-Reply-To: <20220202023618.2f676b6b319188c470a15e0b@iijmio-mail.jp>
References: <20210127154939.13288-1-tiwai@suse.de>
        <YBGeXDTEy8myghot@kroah.com>
        <20220128032213.c93b56aa2ea1c77e34b28290@iijmio-mail.jp>
        <YfLnTm7L3m6jEB+4@kroah.com>
        <20220128093335.e8d01f21c4b930c30f77e08a@iijmio-mail.jp>
        <YfOTHj8oRoxdhX6c@kroah.com>
        <s5h8rv0i8gf.wl-tiwai@suse.de>
        <20220202023618.2f676b6b319188c470a15e0b@iijmio-mail.jp>
User-Agent: Wanderlust/2.15.9 (Almost Unreal) SEMI/1.14.6 (Maruoka)
 FLIM/1.14.9 (=?UTF-8?B?R29qxY0=?=) APEL/10.8 Emacs/25.3
 (x86_64-suse-linux-gnu) MULE/6.0 (HANACHIRUSATO)
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Precedence: bulk
List-ID: <linux-kernel.vger.kernel.org>
X-Mailing-List: linux-kernel@vger.kernel.org

On Tue, 01 Feb 2022 18:36:18 +0100,
Hideki Yamane wrote:
> 
> Hi,
> 
> On Fri, 28 Jan 2022 09:13:36 +0100
> Takashi Iwai <tiwai@suse.de> wrote:
> > It's totally untested, and it'd be appreciated if
> > anyone can confirm that it's working and used.  Then we can happily
> > re-submit the patches for the merge.
> 
>  I've built it with 5.16.4 based one in Debian experimental repository
>  and it seems to work (note: build failure with 5.15.15 in Debian unstable).
> 
> 
>  How to check:
>   1. compress firmware files under /lib/firmware with zstd
>   2. boot with distro kernel that is not enable this feature
>   3. Wifi that needs firmware doesn't work as expected (*1)
>   4. boot with patched kernel
>   5. Wifi works :) (*2)

Good to know that it's working.  (BTW, you can see more details when
you enable the debug, e.g. "firmware_class.dyndbg=+p" boot option.)

The next step is actually using this in some distro (or privately).
If the feature is confirmed to be needed, I'll resubmit the latest
patches for the merge request.


thanks,

Takashi
